---
layout: single
title: "[DAY-49] React (2)"
categories: [devCourse, TIL]
last_modified_at: 2022-05-26
excerpt: "ğŸ˜ŠTIL : React ì—´ì‹¬íˆ ê³µë¶€ì¤‘.."
header:
  teaser: https://user-images.githubusercontent.com/72294509/170725842-9c46e7dc-03d4-4e2e-b80c-a22d7819c376.png
---

![Untitled](https://user-images.githubusercontent.com/72294509/170725842-9c46e7dc-03d4-4e2e-b80c-a22d7819c376.png){: .align-center}

> ğŸ˜‰ **í—·ê°ˆë ¸ë˜ & ëª°ëë˜ ë¶€ë¶„ë“¤ë§Œ ì •ë¦¬**í•˜ëŠ” ë‚˜ë§Œì˜ TIL<br>
> ğŸ˜¯ ëª¨ë“  ê°•ì˜ ë‚´ìš©ì€ ì ì§€ ì•Šì•„ìš”!

<p class='notice--success'>
	<strong>ì˜¤ëŠ˜ì˜ ì†Œê°ì€?</strong><br>
	ìŠ¤í† ë¦¬ë³´ë“œ ì •ë§ ì •ë§ ì •ë§ ë„ˆë¬´ ë§˜ì— ë“¤ì–´ìš” <br>
	ì»´í¬ë„ŒíŠ¸ë¥¼ ì‹œê°ì ì¸ ìš”ì†Œë¡œ ë°”ë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤ë‹ˆ.. <br>
	ì´ê±¸ ì™œ ì´ì œ ì•Œì•˜ì„ê¹Œìš”?<br>
<br>
	ìŠ¤í† ë¦¬ë³´ë“œëŠ” ë”°ë¡œ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.
</p>

<br><br><br>

# [1] ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ë§

ë¦¬ì—‘íŠ¸ ì»´í¬ë„ŒíŠ¸ì— ìŠ¤íƒ€ì¼ì„ ì ìš©í•˜ëŠ” ë°©ë²•ì—ëŠ” 3ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤.

1. ìŠ¤íƒ€ì¼ ì‹œíŠ¸ ì´ìš©
2. Inline style ì ìš©
3. CSS in JS

<br>

## [1-1] ìŠ¤íƒ€ì¼ ì‹œíŠ¸ ì´ìš©

```jsx
import "./Box.css"; // í•´ë‹¹ ë°©ì‹ìœ¼ë¡œ ë¶ˆëŸ¬ì™€ì„œ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

const Box = () => {
  return <div className="box" />;
};

export default Box;
```

<br>

## [1-2] Inline Style ì ìš©

```jsx
{% raw %}
const Box = ({ bgColor }) => {
  return <div className="box" style={{ backgroundColor: bgColor }} />;
};

export default Box;
{% endraw %}
```

<br>

## [1-3] CSS in JS

í•´ë‹¹ ë°©ë²•ì€ `emotion` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
npm install --save @emotion/react
npm install --save @emotion/styled

// ---> ë‘ ë°©ì‹ì´ ë‹¤ë¦…ë‹ˆë‹¤. ì‚¬ìš©ì— ë”°ë¼ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```

```
npm install --save @emotion/babel-plugin
```

`emotion` ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” **CSSë¥¼ JSì˜ í˜•íƒœë¡œ ì‘ì„±í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.**

```jsx
/** @jsxImportSource @emotion/react */ // í”„ë˜ê·¸ë§ˆë¥¼ ë¶™ì—¬ì¤ë‹ˆë‹¤.
import "./App.css";
import Box from "./components/Box";
import { css } from "@emotion/react";

const style = css`
  color: hotpink;
`;

const SomeComponent = ({ children }) => (
  <div css={style}>Some Hotpink text! {children}</div>
);

function App() {
  return (
    <div>
      <SomeComponent />
      <Box />
    </div>
  );
}

export default App;
```

create-react-appì—ì„œëŠ” í”„ë˜ê·¸ë§ˆë¥¼ ë¶™ì—¬ì£¼ëŠ” ëŒ€ì‹  .babelrc íŒŒì¼ì„ ë§Œë“¤ì–´ë„ ì ìš©ì´ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ íŠ¹ë³„í•œ ë°©ë²•ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

<br>

ê·¸ ì¤‘ í•˜ë‚˜ì˜ ë°©ë²•ìœ¼ë¡œ `craco` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

`craco`ëŠ” `create-react-app-config-override`ë¥¼ ì¤„ì¸ ë§ì´ë¼ê³  í•©ë‹ˆë‹¤.

```
npm install --save @craco/craco
npm install --save @emotion/babel-preset-css-prop
```

<br>

- craco.config.js

```jsx
module.exports = {
  babel: {
    presets: ["@emotion/babel-preset-css-prop"],
  },
};
```

- package.json

```json
"scripts": {
  "start": "craco start",
  "build": "craco build",
  "test": "craco test"
},
```

<br>

ë‹¤ì‹œ `npm start` ëª…ë ¹ì–´ë¡œ ì‹¤í–‰í•˜ë©´ ìŠ¤íƒ€ì¼ì´ ì˜ ì ìš©ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![Untitled 1](https://user-images.githubusercontent.com/72294509/170725855-518c014e-52e7-4d54-960a-c4a27ae8f28b.png){: .align-center}

<br><br><br>

# [2] useMemo í›…

`useMemo`ëŠ” **ìµœì í™”ë¥¼ ìœ„í•œ í›…**ì…ë‹ˆë‹¤.

ë¦¬ì—‘íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬í˜„í•  ë•Œ í•¨ìˆ˜ë¡œ êµ¬í˜„í•©ë‹ˆë‹¤.

ë”°ë¼ì„œ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ê°€ ëœë”ë§ ëœë‹¤ëŠ” ê²ƒì€, **ëˆ„êµ°ê°€ê°€ í•´ë‹¹ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì„œ ì‹¤í–‰ì‹œí‚¨ë‹¤ëŠ” ì˜ë¯¸ì™€ ë™ì¼**í•©ë‹ˆë‹¤.

<br>

ê·¸ë ‡ë‹¤ë©´ í•´ë‹¹ í•¨ìˆ˜ëŠ” ì–¸ì œ ë‹¤ì‹œ ë¦¬ë Œë”ë§ ë ê¹Œìš”?

1. ìì‹ ì˜ ìƒíƒœê°€ ë³€ê²½ë  ë•Œ
2. ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ë¡œë¶€í„° ë°›ëŠ” propì´ ë³€ê²½ë  ë•Œ
3. ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœê°€ ë³€ê²½ë  ë•Œ

<br>

ì´ëŸ¬í•œ ë¦¬ë Œë”ë§ ì‘ì—… ì‹œ **í•¨ìˆ˜ ë‚´ë¶€ ì—°ì‚° ì†ë„ê°€ ëŠë¦° ì»´í¬ë„ŒíŠ¸ë¼ë©´ ê½¤ ë§ì€ ì„±ëŠ¥ì„ ì†Œë¹„**í•˜ê²Œ ë©ë‹ˆë‹¤.

ë”°ë¼ì„œ `useMemo` í›…ì„ ì‚¬ìš©í•´ì„œ **ìµœì í™”ë¥¼ ì§„í–‰**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
const result = useMemo(() => sum(n), [n]);
// nì˜ ê°’ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œë§Œ sum í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì„œ ì—°ì‚°ì„ ì§„í–‰í•©ë‹ˆë‹¤.
```

<br><br><br>

# [3] React.memo

**ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœê°€ ë³€ê²½ë  ë•Œ ë¦¬ë Œë”ë§ì´ ë˜ëŠ” ê²ƒì„ ë§‰ê¸° ìœ„í•´** `React.memo` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
import React from "react";
import "./Box.css";

// ë‹¨ìˆœíˆ React.memoë¡œ ê°ì‹¸ë§Œ ì¤˜ë„ ë¦¬ë Œë”ë§ì„ ë§‰ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤!
const Box = React.memo(() => {
  console.log("Render Box!");
  return <div className="box"></div>;
});

export default Box;
```

<br><br><br>

# [4] useCallback í›…

í•¨ìˆ˜ê°€ ë‹¤ì‹œ ì •ì˜ë˜ëŠ” ê²ƒì„ ë§‰ê¸° ìœ„í•´ `useCallback` í›…ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

`React.memo`ë¥¼ ì‚¬ìš©í•´ì„œ ì •ì˜í•œ Checkbox ì»´í¬ë„ŒíŠ¸ë¥¼ ì—¬ëŸ¬ê°œ ì‚¬ìš©í•´ë³´ê² ìŠµë‹ˆë‹¤.

```jsx
// App.js
function App() {
  const [foodOn, setFoodOn] = useState(false);
  const [clothesOn, setclothesOn] = useState(false);
  const [shelterOn, setShelterOn] = useState(false);

  const foodChange = (e) => setFoodOn(e.target.checked);
  const clothesChange = (e) => setclothesOn(e.target.checked);
  const shelterChange = (e) => setShelterOn(e.target.checked);

  return (
    <div>
      <Checkbox label="Food" on={foodOn} onChange={foodChange} />
      <Checkbox label="Clothes" on={clothesOn} onChange={clothesChange} />
      <Checkbox label="Shelter" on={shelterOn} onChange={shelterChange} />
    </div>
  );
}
```

food Checkboxì˜ ê°’ì´ ë³€í•´ë„ **ë‹¤ë¥¸ ì²´í¬ë°•ìŠ¤ê¹Œì§€ ëª¨ë‘ ì¬ì •ì˜ë˜ëŠ” ê²ƒì„ í™•ì¸**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ ì´ëŸ´ ë•Œ `useCallback`ìœ¼ë¡œ í•¨ìˆ˜ë¥¼ ê°ì‹¸ì¤ë‹ˆë‹¤.

```jsx
const foodChange = useCallback((e) => setFoodOn(e.target.checked), []);
const clothesChange = useCallback((e) => setclothesOn(e.target.checked), []);
const shelterChange = useCallback((e) => setShelterOn(e.target.checked), []);
// useMemoì™€ ë™ì¼í•˜ê²Œ ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¡œ ì§€ì¼œë³´ê³  ìˆë‹¤ê°€
// í•´ë‹¹ ê°’ì´ ë³€ê²½ë  ë•Œë§Œ í•¨ìˆ˜ ì¬í• ë‹¹ì„ í—ˆìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```

<br><br><br>

# [5] ì‚¬ìš©ì ì •ì˜ í›…

**ê¸°ì¡´ í›…ë“¤ì„ ì¡°í•©í•´ì„œ ì‚¬ìš©ì ì •ì˜ í›…ìœ¼ë¡œ ë¹¼ì„œ ì‚¬ìš©**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ëŠ” **ì¤‘ë³µ ì½”ë“œë¥¼ ì œê±°**í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤.

ì‚¬ìš©ì ì •ì˜ í›…ì€ `hooks` ë””ë ‰í† ë¦¬ ë‚´ë¶€ì— ì •ì˜í•©ë‹ˆë‹¤.

![Untitled 2](https://user-images.githubusercontent.com/72294509/170725857-d4fe9836-8e8e-45a0-9c94-9e8ed7cd03bb.png){: .align-center}

```jsx
// useToggle.js
import { useCallback, useState } from "react";

const useToggle = (initialState = false) => {
  const [state, setState] = useState(initialState);
  const toggle = useCallback(() => setState((state) => !state), []);

  return [state, toggle];
};

export default useToggle;
```

```jsx
// App.js Component
// ...
const [on, toggle] = useToggle(); // state -> on

return (
  <div>
    <button onClick={toggle}>{on ? "True" : "False"}</button>
  </div>
);
```

<br><br><br>

# [6] ë¡œê·¸ì¸, íšŒì›ê°€ì… í¼

`storybook`ìœ¼ë¡œ ì‹¤ìŠµì„ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

![Untitled 3](https://user-images.githubusercontent.com/72294509/170725859-3e3a5d0f-f3d2-42d6-b603-a959542eefa9.png){: .align-center}

> í•˜ë‚˜ì”© ëŠ˜ì–´ë‚˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë³¼ ë•Œ ë§ˆë‹¤ í¸ì•ˆí•´ì§€ë„¤ìš”.. ğŸ˜Š

<br><br><br>

---

### ì¶œì²˜

[í”„ë¡œê·¸ë˜ë¨¸ìŠ¤](https://programmers.co.kr/)

[React.js Document](https://ko.reactjs.org/docs/getting-started.html)

[storybook Document](https://storybook.js.org/tutorials/intro-to-storybook/react/ko/get-started/)
