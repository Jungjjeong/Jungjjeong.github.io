---
layout: single
title: "[DAY-39] Vue (6)"
categories: [devCourse, TIL]
last_modified_at: 2022-05-12
excerpt: "ğŸ˜†TIL : í”ŒëŸ¬ê·¸ì¸, ë¯¹ìŠ¤ì¸, ê·¸ë¦¬ê³  Vuexê¹Œì§€"
header:
  teaser: https://user-images.githubusercontent.com/72294509/168784357-4532b3f4-ee69-4f59-93eb-984d2d8b6024.png
---

![014](https://user-images.githubusercontent.com/72294509/168784357-4532b3f4-ee69-4f59-93eb-984d2d8b6024.png){: .align-center}

> ğŸ˜‰ **í—·ê°ˆë ¸ë˜ & ëª°ëë˜ ë¶€ë¶„ë“¤ë§Œ ì •ë¦¬**í•˜ëŠ” ë‚˜ë§Œì˜ TIL<br>
> ğŸ˜¯ ëª¨ë“  ê°•ì˜ ë‚´ìš©ì€ ì ì§€ ì•Šì•„ìš”!

<p class='notice--success'>
	<strong>ì˜¤ëŠ˜ì˜ ì†Œê°ì€?</strong><br>
	Vuex ë˜ê²Œ í¸ë¦¬í•˜ë„¤ìš”.<br>
	ë°ì´í„°ë“¤ì„ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ì„ ì–¸í•˜ì§€ ì•Šê³ <br>
	ì „ì—­ì ìœ¼ë¡œ ì“°ì´ëŠ” ë°ì´í„°ë“¤ì„ í•œë²ˆì— ë¬¶ì–´ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤ë‹ˆ.<br>
	ê²Œë‹¤ê°€ ëª¨ë“ˆí™”ë„ ê°€ëŠ¥í•˜ë‹¤ë‹ˆ..!
</p>

<br><br><br>

# [1] í”ŒëŸ¬ê·¸ì¸

í”ŒëŸ¬ê·¸ì¸ì„ ì‘ì„±í•¨ìœ¼ë¡œì¨ **Vueì— ì „ì—­ ê¸°ëŠ¥ì„ ë§Œë“¤ì–´ì„œ ì‚¬ìš©**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
export default {
	install: (app, options) => {
		// í”ŒëŸ¬ê·¸ì¸ì˜ ë‚´ë¶€ ë‚´ìš©ì€ install ë©”ì†Œë“œ ë‚´ë¶€ì— ì‘ì„±í•©ë‹ˆë‹¤.
	});
}
```

```jsx
// fetch í”ŒëŸ¬ê·¸ì¸ì„ ë§Œë“­ë‹ˆë‹¤.
// $fetchì™€ ê°™ì´ $ê°€ ë¶™ëŠ” ê²½ìš°ëŠ” thisë¡œ ì ‘ê·¼í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” Vueì˜ í†µìƒì ì¸ ì˜ë¯¸ì…ë‹ˆë‹¤.
export default {
  install(app, component) {
    app.config.globalProperties[options.pluginName || "$fetch"] = (
      url,
      opts
    ) => {
      return fetch(url, opts).then((res) => res.json());
    };
  },
};
```

```jsx
import { createApp } from "vue";
import App from "./App.vue";
import fetchPlugin from "~/plugins/fetch";

const app = createApp(App);
app.use(fetchPlugin. {
	pluginName: '$myname'
});
// useë¡œ ì‚¬ìš©í•´ì„œ ë“±ë¡í•©ë‹ˆë‹¤.
// íŠ¹ì • ì´ë¦„ì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
app.mount("#app");
```

```jsx
methods: {
	async init() {
		const res = await this.$myname('url');
		console.log(res);
	}
}
```

<br><br><br>

# [2] ë¯¹ìŠ¤ì¸

ë¯¹ìŠ¤ì¸ìœ¼ë¡œ **Vue ì»´í¬ë„ŒíŠ¸ì— ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ê¸°ëŠ¥ì„ ë§Œë“¤ì–´ì„œ ì‚¬ìš©**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br>

ë¯¹ìŠ¤ì¸ì€ í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ì™€ ìœ ì‚¬í•œ êµ¬ì¡°ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
mixins: [myMixins]; // ë¯¹ìŠ¤ì¸ì˜ ì´ë¦„ì„ propsì™€ ë™ì¼í•œ í˜•íƒœë¡œ ë¶ˆëŸ¬ì™€ ì‚¬ìš©í•©ë‹ˆë‹¤.
```

ê°™ì€ ì´ë¦„ì˜ **í›… í•¨ìˆ˜(ë¼ì´í”„ì‚¬ì´í´)ëŠ” ëª¨ë‘ í˜¸ì¶œë  ìˆ˜ ìˆê²Œ ë°°ì—´ì— ë³‘í•©**ë©ë‹ˆë‹¤.

<br>

ë˜í•œ methods, data ë“±ë„ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ì ì ˆí•˜ê²Œ ë³‘í•©ë©ë‹ˆë‹¤.

í•˜ì§€ë§Œ **ë§Œì•½ ë¯¹ìŠ¤ì¸ ë‚´ ì˜µì…˜ë“¤ê³¼ ì»´í¬ë„ŒíŠ¸ì˜ ì˜µì…˜ë“¤ì´ ì¤‘ë³µ**ë  ê²½ìš°, **ì»´í¬ë„ŒíŠ¸ì˜ ì˜µì…˜ì´ ìš°ì„ ë˜ì–´ ì ìš©**ë©ë‹ˆë‹¤. (í›… í•¨ìˆ˜ ì œì™¸)

```jsx
// sampleMixin

export default {
  data() {
    return {
      count: 1,
      mag: "HI~",
    };
  },
};
```

```jsx
// App.vue

import Hello from "~/components/Hello";
import sampleMixin from "~/mixins/sample";

export default {
  components: {
    Hello,
  },
  mixins: [sampleMixin],
  data() {
    return {
      msg: "Hello Vue!",
    };
  },
};
```

![Untitled](https://user-images.githubusercontent.com/72294509/168784351-54fc87ad-b5e4-4783-a9fd-c48b3e1c5bc7.png){: .align-center}

{% raw %}
`{{ msg }}`ë¥¼ ì¶œë ¥í–ˆì„ ë•Œ, ì»´í¬ë„ŒíŠ¸ì˜ msgê°€ ì¶œë ¥ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
{% endraw %}

<br><br>

## [+] ë™ì  ì»´í¬ë„ŒíŠ¸ + ë¯¹ìŠ¤ì¸ ì˜ˆì œ

ë¹„ìŠ·í•œ ë°ì´í„° í˜•ì‹ì„ ë Œë”ë§í•˜ëŠ” ë‘ ê°œì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ë™ì  ì»´í¬ë„ŒíŠ¸ì˜ ê°œë…ìœ¼ë¡œ ë¬¶ì€ í›„,

ë¯¹ìŠ¤ì¸ìœ¼ë¡œ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë“¤ì˜ propsë“¤ì„ ì •ì˜í•´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
{% raw %}
// App.vue
<template>
  <component
    :is="field.component"
    v-for="field in fields"
    :key="'component-' + field.title"
    v-model="field.value"
    :title="field.title"
    :items="field.items"
  />

  <h1>ê²°ê³¼</h1>
  <div v-for="field in fields" :key="'result-' + field.title">
    {{ field.value }}
  </div>

  <button @click="submit">ì œì¶œ</button>
</template>

<script>
import * as FieldComponents from "~/components/fields/index";

export default {
  components: {
    ...FieldComponents,
  },
  data() {
    return {
      fields: [
        {
          component: "TextField",
          title: "ì´ë¦„",
          value: "",
        },
        {
          component: "SimpleRadio",
          title: "ë‚˜ì´ëŒ€",
          value: "",
          items: ["20ëŒ€", "30ëŒ€", "40ëŒ€", "50ëŒ€"],
        },
      ],
    };
  },
  methods: {
    submit() {
      const results = this.fields.map(({ title, value }) => ({
        title,
        value,
      }));
      console.log(results);
    },
  },
};
</script>

// index.js - ì´ë ‡ê²Œ importë¥¼ ë¬¶ì–´ì„œ ì‚¬ìš©í•˜ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ë§ì•„ì§ˆ ê²½ìš°ì—ë„ ì½”ë“œê°€ ê¹”ë”í•©ë‹ˆë‹¤.
export { default as TextField } from "./TextField";
export { default as SimpleRadio } from "./SimpleRadio";
{% endraw %}
```

```jsx
// mixin.js
export default {
  props: {
    items: {
      type: Array,
      default: () => [],
    },
    title: {
      type: String,
      default: "",
    },
    modelValue: {
      type: String,
      default: "",
    },
  },
  emits: ["update:modelValue"],
};
```

```jsx
{% raw %}
// SimpleRadio.vue
<template>
  <h3>{{ title }}</h3>
  <ul>
    <li v-for="item in items" :key="item">
      <label>
        <input
          type="radio"
          :value="item"
          :name="title"
          @input="$emit('update:modelValue', $event.target.value)"
        />
        {{ item }}
      </label>
    </li>
  </ul>
</template>

<script>
import fieldMixin from "./mixin";

export default {
  mixins: [fieldMixin],
};
</script>
{% endraw %}
```

```jsx
{% raw %}
// TextField.vue
<template>
  <div>
    <h3>{{ title }}</h3>
    <input
      :value="modelValue"
      type="text"
      @input="$emit('update:modelValue', $event.target.value)"
    />
  </div>
</template>

<script>
import fieldMixin from "./mixin";

export default {
  mixins: [fieldMixin],
};
</script>
{% endraw %}
```

<br><br><br>

# [3] Teleport

`teleport` íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ ìš”ì†Œë¥¼ **ìˆœê°„ì´ë™** ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```html
<template>
  <div @click="onModal">
    <slot name="activator"></slot>
  </div>
  <teleport to="body">
    <!-- í•˜ë‹¨ì˜ ìš”ì†Œë“¤ì„ body íƒœê·¸ ë‚´ë¶€ë¡œ ìˆœê°„ì´ë™ ì‹œí‚µë‹ˆë‹¤. -->
    <template v-if="isShow">
      <div class="modal" @click="offModal">
        <div
          :style="{ width: `${parseInt(width, 10)}px` }"
          class="modal__inner"
          @click.stop
        >
          <slot></slot>
        </div>
      </div>
    </template>
  </teleport>
</template>
```

![Untitled 1](https://user-images.githubusercontent.com/72294509/168784363-540ff05d-46b9-4b22-a018-20cdb943e434.png){: .align-center}

fixed ë“± **ìƒìœ„ ìš”ì†Œì˜ ìŠ¤íƒ€ì¼ ì˜í–¥ì„ ë°›ëŠ” ìš”ì†Œë“¤ì„ ìµœìƒë‹¨ìœ¼ë¡œ ì´ë™ì‹œí‚¬ ë•Œ, ì›í•˜ëŠ” ë³„ë„ì˜ ìš”ì†Œë¡œ ì´ë™í•˜ê¸° ì›í•  ë•Œ ë“±** ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br><br>

## [+] @click.stop

í•´ë‹¹ ì½”ë“œì—ì„œëŠ” ì´ë²¤íŠ¸ ë²„ë¸”ë§ì´ ì¼ì–´ë‚˜ `modal__inner`í´ë˜ìŠ¤ë¥¼ ê°€ì§„ divë¥¼ í´ë¦­í•´ë„ `offModal` í•¨ìˆ˜ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.

```html
<template v-if="isShow">
  <div class="modal" @click="offModal">
    <div class="modal__inner">
      <slot></slot>
    </div>
  </div>
</template>
```

ì´ë•Œ, `modal__inner` í´ë˜ìŠ¤ë¥¼ ê°€ì§„ divì— `@click.stop` ì†ì„±ì„ ë„£ì–´ì£¼ì–´ e.preventDefault ê¸°ëŠ¥ì„ ë„£ì–´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```html
<template v-if="isShow">
  <div class="modal" @click="offModal">
    <div class="modal__inner" @click.stop>
      <slot></slot>
    </div>
  </div>
</template>
```

<br>

> ë°°ìš´ ë‚´ìš©ì„ ìŠì§€ ë§™ì‹œë‹¤! ğŸ˜ˆ

<br><br><br>

# [4] Provide, Inject

ì¼ë°˜ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë¶€ëª¨ì—ì„œ ìì‹ ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬í•  ë•Œ `props`ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

í•˜ì§€ë§Œ ì´ëŠ” ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì™€ ìì‹ ì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì˜ ë°ì´í„°ë¥¼ ì „ë‹¬í•  ë¿, **ì¡°ìƒ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°”ë¡œ ë§¨ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì— ë°ì´í„°ë¥¼ ì „ë‹¬í•´ì¤„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.**

> ë¬¼ë¡  `props`ë¥¼ ê·¸ ì‚¬ì´ì— ìˆëŠ” ì»´í¬ë„ŒíŠ¸ì— ì „ë¶€ ì •ì˜í•˜ë©´ ê°€ëŠ¥í•˜ì§€ë§Œ ë§¤ìš° ë²ˆê±°ë¡œìš´ ì‘ì—…ì…ë‹ˆë‹¤.

<br>

ì´ë•Œ `Provide`ì™€ `Inject`ìŒì„ ì‚¬ìš©í•´ì„œ ë°ì´í„°ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
// App.vue
export default {
  components: {
    Parent,
  },
  provide() {
    return {
      msg: this.msg, // data ì˜µì…˜ ìœ„ìª½ì— provide ì˜µì…˜ìœ¼ë¡œ ë°ì´í„°ë¥¼ í›„ì† ìš”ì†Œë“¤ì—ê²Œ ë³´ë‚´ì¤ë‹ˆë‹¤.
    };
  },
  data() {
    return {
      msg: "App Vue!",
    };
  },
};
```

```jsx
{% raw %}
// Child.vue
<template>
  <h1>Child {{ msg }}</h1>
</template>

<script>
export default {
  inject: ["msg"], // injectë¡œ ì¡°ìƒ ìš”ì†Œì—ì„œ ë³´ë‚´ì¤€ ë°ì´í„°ë¥¼ ë°›ìŠµë‹ˆë‹¤.
};
</script>
{% endraw %}
```

<br>

> í•˜ì§€ë§Œ `provide`ì™€ `inject`ë¥¼ ì‚¬ìš©í•´ì„œ ì „ë‹¬ëœ ë°ì´í„°ëŠ” **ë°˜ì‘í˜• ë°ì´í„°ê°€ ì•„ë‹™ë‹ˆë‹¤.**

<br>

## [4-1] computed

`computed`ëŠ” ê³„ì‚°ëœ ë°ì´í„°ë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì˜µì…˜ì…ë‹ˆë‹¤.

ì´ë¥¼ í•¨ìˆ˜ í˜•íƒœë¡œ ë¶ˆëŸ¬ì™€ì„œ ì‚¬ìš©í•˜ê²Œ ë˜ë©´, **ì˜µì…˜ì´ ì•„ë‹Œ í•˜ë‚˜ì˜ í•¨ìˆ˜ë¡œì¨ ì›í•˜ëŠ” ë¶€ë¶„ì—ì„œ ê³„ì‚°ëœ ë°ì´í„°**ë¥¼ ë§Œë“¤ì–´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
// App.vue
import Parent from "~/components/Parent";
import { computed } from "vue";

export default {
  components: {
    Parent,
  },
  provide() {
    return {
      msg: computed(() => this.msg),
      // computed í•¨ìˆ˜ ë‚´ë¶€ì— í•˜ë‚˜ì˜ ì½œë°±ì„ ìƒì„±í•´ì„œ ê³„ì‚°ëœ ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
    };
  },
  data() {
    return {
      msg: "App Vue!",
    };
  },
};
```

```jsx
{% raw %}
// Child.vue
<template>
  <h1>Child {{ msg.value }}</h1>
</template>
{% endraw %}
```

í•˜ì§€ë§Œ ì´ `computed`í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ë°˜í™˜ê°’ì´ ì›ë˜ì˜ ë°ì´í„° í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.

ë°”ë¡œ **ê°ì²´ í˜•íƒœë¡œ ë°˜í™˜**ì´ ë©ë‹ˆë‹¤.

ë”°ë¼ì„œ ê³„ì‚°ëœ ë°ì´í„°ë¥¼ ì§ì ‘ êº¼ë‚´ ì‚¬ìš©í•˜ê¸° ìœ„í•´ `.value`ë¥¼ ê¼­ ë¶™ì—¬ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

<br>

> ì´ëŠ” `Vuex`ë¥¼ ì‚¬ìš©í•˜ë©´ ì „ë¶€ í•´ê²°ë  ë¬¸ì œì…ë‹ˆë‹¤. ğŸ˜†

<br><br><br>

# [5] Vuex(Store)

ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë™ì‹œì— ì‚¬ìš©ë˜ëŠ” ë°ì´í„°ëŠ” ë³„ë„ì˜ íŒŒì¼ì— ì €ì¥í•´ì„œ ì „ì—­ìœ¼ë¡œ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
// store/index.js
import { reactive } from "vue"; // ë°˜ì‘í˜• ë°ì´í„°ë¥¼ ì œê³µí•´ì£¼ëŠ” vue ë‚´ì¥ í•¨ìˆ˜ì…ë‹ˆë‹¤.

export const state = reactive({
  msg: "Hello vue",
  count: 1,
});

export const getters = {
  // computed(ê³„ì‚°ëœ ë°ì´í„°) ë¡œì§
  reversedMsg() {
    return state.msg.split("").reverse().join("");
  },
};

export const mutations = {
  // ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ë¡œì§
  increaseCount() {
    state.count += 1;
  },
  decreaseCount() {
    state.count -= 1;
  },
  updateMsg(newMsg) {
    state.msg = newMsg;
  },
};

export const actions = {
  // ê¸°íƒ€ ë¡œì§
  async fetchTodo() {
    const fetchResult = await fetch(
      "https://jsonplaceholder.typicode.com/todos/1"
    ).then((res) => res.json());

    mutations.updateMsg(fetchResult.title);
  },
};
```

ì´ë ‡ê²Œ ë³„ë„ì˜ íŒŒì¼ë¡œ ê´€ë¦¬í•˜ê²Œ ë˜ë©´ ë‹¤ì–‘í•œ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°ì´í„°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°

í•´ë‹¹ ë°ì´í„°ì˜ ê´€ë¦¬ê°€ ì‰¬ì›Œì§‘ë‹ˆë‹¤.

<br>

ì´ëŸ¬í•œ **ë°ì´í„° ê´€ë¦¬ ë¡œì§ì„ ì¡°ê¸ˆ ë” ì‰½ê²Œ í•´ì¤„ ìˆ˜ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬**ê°€ ë°”ë¡œ `Vuex`ì…ë‹ˆë‹¤.

<br>

`Vuex`ëŠ” **ìƒíƒœ ê´€ë¦¬ í˜í„´ ë¼ì´ë¸ŒëŸ¬ë¦¬**ì…ë‹ˆë‹¤.

Vue ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ **ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•œ ì¤‘ì•™ ì§‘ì¤‘ì‹ ì €ì¥ì†Œ ì—­í• **ì„ í•˜ê²Œ ë©ë‹ˆë‹¤.

![Untitled 2](https://user-images.githubusercontent.com/72294509/168784366-6b6c8003-af38-4682-8e9d-817ad61270d3.png){: .align-center}

<br>

`vuex`ëŠ” ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
npm i vuex@next // next ë²„ì „ìœ¼ë¡œ ì„¤ì¹˜í•©ë‹ˆë‹¤. (4.0 ì´ìƒ)
```

```jsx
// store/index.js
import { createStore } from "vuex";

export default createStore({
  state() {
    return {
      msg: "store data",
      count: 1,
    };
  },
  getters: {
    reverseMsg(state) {
      return state.msg.split("").reverse().join("");
    },
  },
  mutations: {
    increaseCount(state) {
      state.count += 1;
    },
    updateMsg(state, newMsg) {
      state.msg = newMsg;
    },
  },
  actions: {
    // context =>  state, getters, commit(mutations), dispatch
    async fetchTodo({ commit }) {
      const todo = await fetch(
        "https://jsonplaceholder.typicode.com/todos/1"
      ).then((res) => res.json());

      commit("updateMsg", todo.title);
    },
  },
});
```

ì—¬ê¸°ì„œ `context ê°ì²´`ë¡œ **ì˜µì…˜ ì•ˆì—ì„œ ë‹¤ë¥¸ ì˜µì…˜ìœ¼ë¡œ ì ‘ê·¼**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

`context`ëŠ” `state, getters, commit(mutations), ê·¸ ì™¸ì¸ dispatch`ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

```jsx
// main.js
const app = createApp(App);
app.use(store); // ë“±ë¡í•´ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤.
app.mount("#app");
```

```jsx
// Hello.vue
export default {
  computed: {
    msg() {
      return this.$store.state.msg; // $storeìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    },
    count() {
      return this.$store.state.count;
    },
  },
};
```

<br>

## [5-1] ëª¨ë“ˆí™”

`vuex`ì˜ ë°ì´í„°ë‚˜ ì—¬ëŸ¬ ì˜µì…˜ë“¤ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ `this.$store. ...` ì˜ í˜•ì‹ìœ¼ë¡œ ì ‘ê·¼í•©ë‹ˆë‹¤.

í•˜ì§€ë§Œ ë°ì´í„°ì˜ ì–‘, ë˜ëŠ” ì—¬ëŸ¬ ì˜µì…˜ ë‚´ë¶€ ê°’ë“¤ì´ ë§ì•„ì§ˆìˆ˜ë¡ store/index.js íŒŒì¼ í•˜ë‚˜ì—ì„œ ëª¨ë“  ë°ì´í„°ë“¤ì„ ê´€ë¦¬í•˜ê¸° í˜ë“­ë‹ˆë‹¤.

<br>

ë”°ë¼ì„œ `vuex`ëŠ” storeì„ ê¸°ëŠ¥ë³„ë¡œ ìª¼ê°œì„œ ì œê³µí•˜ëŠ” ëª¨ë“ˆí™”ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

![Untitled 3](https://user-images.githubusercontent.com/72294509/168784371-e670409a-5a00-41cb-8f2f-2e10d8547c8c.png){: .align-center}

ê·¸ë¦¼ê³¼ ê°™ì´ store ë‚´ë¶€ì—ì„œ ë¶„ë¦¬í•œ js íŒŒì¼ì„ index.js íŒŒì¼ ì•ˆì— ëª¨ë“ˆí™”í•´ì„œ ë¶ˆëŸ¬ì™€ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
// message.js
export default {
  namespaced: true, // í•´ë‹¹í•˜ëŠ” ì´ë¦„ ë²”ìœ„(message)ë¡œ ë°ì´í„°ë“¤ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì˜µì…˜
  state() {
    return {
      message: "hello Store Module",
    };
  },
  getters: {
    reversedMessage(state) {
      return state.message.split("").reverse().join("");
    },
  },
  mutations: {
    updateMessage(state, newMessage) {
      state.message = newMessage;
    },
  },
  actions: {
    async fetchTodo({ commit }) {
      const todo = await fetch(
        "https://jsonplaceholder.typicode.com/todos/1"
      ).then((res) => res.json());

      commit("updateMessage", todo.title);
    },
  },
};
```

```jsx
// index.js
export default createStore({
  state() {
	...

	},
	modules: { // modules ì˜µì…˜ ë‚´ë¶€ì—ì„œ ë¶ˆëŸ¬ì™€ ì‚¬ìš©í•©ë‹ˆë‹¤.
		message
	}
}
```

```jsx
// Hello.vue
export default {
  computed: {
    msg() {
      return this.$store.state.msg;
    },
    count() {
      return this.$store.state.count;
    },
    storeMessage() {
      return this.$store.state.message.message;
      // ëª¨ë“ˆì˜ ì´ë¦„, í•´ë‹¹ ìƒíƒœì˜ ì´ë¦„ë„ ëª…ì‹œí•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.
    },
  },
  methods: {
    increaseCount() {
      this.$store.commit("count/increaseCount");
    },
  },
};
```

<br>

## [5-2] map~

vuexì˜ ë‚´ì¥ í•¨ìˆ˜ `mapState, mapGetters, mapMutations, mapActions`ë¥¼ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
import { mapState, mapGetters, mapMutations, mapActions } from "vuex";

export default {
  computed: {
    ...mapState("count", ["count"]),
    ...mapState("message", ["message"]),
  },
};

/* 
	1. ëª¨ë“ˆì—ì„œ ìƒíƒœ ê°€ì ¸ì˜¤ê¸°
		...mapState('ëª¨ë“ˆí™” ëœ íŒŒì¼ ì´ë¦„', ['ê°€ì ¸ì˜¬ ìƒíƒœ 1', 'ê°€ì ¸ì˜¬ ìƒíƒœ 2'])
	2. ëª¨ë“ˆí™” ëœ íŒŒì¼ ì´ë¦„ì´ ì—†ì„ ê²½ìš° (index.jsì¸ ê²½ìš°) 
		...mapState(['ê°€ì ¸ì˜¬ ìƒíƒœ1', 'ê°€ì ¸ì˜¬ ìƒíƒœ2']);
*/
```

<br><br><br>

---

### ì¶œì²˜

[í”„ë¡œê·¸ë˜ë¨¸ìŠ¤](https://programmers.co.kr/)

[Vue.js3 Document](https://v3.ko.vuejs.org/)
